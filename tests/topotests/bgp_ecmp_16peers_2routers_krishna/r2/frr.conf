! FRR configuration for r2 - BGP ECMP Test
! 16 interfaces in default VRF
! 16 eBGP sessions to r1 for ECMP testing

hostname r2
!
! Loopback interface
interface lo
 ip address 192.168.2.2/32
!
! Interface configuration (all in default VRF)
interface r2-eth0
 ip address 10.1.1.2/30
 no shutdown
!
interface r2-eth1
 ip address 10.1.2.2/30
 no shutdown
!
interface r2-eth2
 ip address 10.1.3.2/30
 no shutdown
!
interface r2-eth3
 ip address 10.1.4.2/30
 no shutdown
!
interface r2-eth4
 ip address 10.1.5.2/30
 no shutdown
!
interface r2-eth5
 ip address 10.1.6.2/30
 no shutdown
!
interface r2-eth6
 ip address 10.1.7.2/30
 no shutdown
!
interface r2-eth7
 ip address 10.1.8.2/30
 no shutdown
!
interface r2-eth8
 ip address 10.1.9.2/30
 no shutdown
!
interface r2-eth9
 ip address 10.1.10.2/30
 no shutdown
!
interface r2-eth10
 ip address 10.1.11.2/30
 no shutdown
!
interface r2-eth11
 ip address 10.1.12.2/30
 no shutdown
!
interface r2-eth12
 ip address 10.1.13.2/30
 no shutdown
!
interface r2-eth13
 ip address 10.1.14.2/30
 no shutdown
!
interface r2-eth14
 ip address 10.1.15.2/30
 no shutdown
!
interface r2-eth15
 ip address 10.1.16.2/30
 no shutdown
!
! BGP configuration (default VRF) - AS 65002
router bgp 65002
 bgp router-id 192.168.2.2
 timers bgp 10 30
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 !
 ! All 16 neighbors to r1
 neighbor 10.1.1.1 remote-as 65001
 neighbor 10.1.2.1 remote-as 65001
 neighbor 10.1.3.1 remote-as 65001
 neighbor 10.1.4.1 remote-as 65001
 neighbor 10.1.5.1 remote-as 65001
 neighbor 10.1.6.1 remote-as 65001
 neighbor 10.1.7.1 remote-as 65001
 neighbor 10.1.8.1 remote-as 65001
 neighbor 10.1.9.1 remote-as 65001
 neighbor 10.1.10.1 remote-as 65001
 neighbor 10.1.11.1 remote-as 65001
 neighbor 10.1.12.1 remote-as 65001
 neighbor 10.1.13.1 remote-as 65001
 neighbor 10.1.14.1 remote-as 65001
 neighbor 10.1.15.1 remote-as 65001
 neighbor 10.1.16.1 remote-as 65001
 !
 address-family ipv4 unicast
  redistribute sharp
  ! Activate all neighbors
  neighbor 10.1.1.1 activate
  neighbor 10.1.2.1 activate
  neighbor 10.1.3.1 activate
  neighbor 10.1.4.1 activate
  neighbor 10.1.5.1 activate
  neighbor 10.1.6.1 activate
  neighbor 10.1.7.1 activate
  neighbor 10.1.8.1 activate
  neighbor 10.1.9.1 activate
  neighbor 10.1.10.1 activate
  neighbor 10.1.11.1 activate
  neighbor 10.1.12.1 activate
  neighbor 10.1.13.1 activate
  neighbor 10.1.14.1 activate
  neighbor 10.1.15.1 activate
  neighbor 10.1.16.1 activate
!
! Line vty configuration
line vty
!
end 