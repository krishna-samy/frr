! FRR configuration for r4 - BGP Asymmetric VRF Cross-Connect Test
! 4 interfaces in default VRF connecting to all 4 VRFs on r1
! 4 eBGP sessions to r1 (one from each VRF)

hostname r4
!
! Loopback interface
interface lo
 ip address 192.168.4.4/32
!
! Interface configuration (all in default VRF, connects to r1's 4 VRFs)
interface r4-eth0
 ip address 10.1.3.2/30
 no shutdown
!
interface r4-eth1
 ip address 10.1.7.2/30
 no shutdown
!
interface r4-eth2
 ip address 10.1.11.2/30
 no shutdown
!
interface r4-eth3
 ip address 10.1.15.2/30
 no shutdown
!
interface r4-eth4
 ip address 10.1.19.2/30
 no shutdown
!
interface r4-eth5
 ip address 10.1.23.2/30
 no shutdown
!
! BGP configuration (default VRF) - AS 65004
router bgp 65004
 bgp router-id 192.168.4.4
 bgp bestpath as-path multipath-relax
 timers bgp 10 30
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 !
 ! Neighbors from r1's 4 VRFs
 neighbor 10.1.3.1 remote-as 65001
 neighbor 10.1.7.1 remote-as 65001
 neighbor 10.1.11.1 remote-as 65001
 neighbor 10.1.15.1 remote-as 65001
 ! Neighbors from r6 and r7 ECMP routers
 neighbor 10.1.19.1 remote-as 65006
 neighbor 10.1.23.1 remote-as 65007
 !
 address-family ipv4 unicast
  redistribute sharp
  ! Activate all neighbors
  neighbor 10.1.3.1 activate
  neighbor 10.1.7.1 activate
  neighbor 10.1.11.1 activate
  neighbor 10.1.15.1 activate
  neighbor 10.1.19.1 activate
  neighbor 10.1.23.1 activate
!
! Line vty configuration
line vty
!
end 