! FRR configuration for r6 - BGP 4-way ECMP Test
! 4 interfaces in default VRF connecting to all upstream routers (r2-r5)
! 4 eBGP sessions for 4-way ECMP

hostname r6
!
! Loopback interface
interface lo
 ip address 192.168.6.6/32
!
! Interface configuration (all in default VRF, connects to r2-r5)
interface r6-eth0
 ip address 10.1.17.1/30
 no shutdown
!
interface r6-eth1
 ip address 10.1.18.1/30
 no shutdown
!
interface r6-eth2
 ip address 10.1.19.1/30
 no shutdown
!
interface r6-eth3
 ip address 10.1.20.1/30
 no shutdown
!
! BGP configuration (default VRF) - AS 65006
router bgp 65006
 bgp router-id 192.168.6.6
 bgp bestpath as-path multipath-relax
 timers bgp 10 30
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 !
 ! Neighbors for 4-way ECMP (one to each upstream router)
 neighbor 10.1.17.2 remote-as 65002
 neighbor 10.1.18.2 remote-as 65003
 neighbor 10.1.19.2 remote-as 65004
 neighbor 10.1.20.2 remote-as 65005
 !
 address-family ipv4 unicast
  redistribute sharp
  ! Activate all neighbors for ECMP
  neighbor 10.1.17.2 activate
  neighbor 10.1.18.2 activate
  neighbor 10.1.19.2 activate
  neighbor 10.1.20.2 activate
!
! Line vty configuration
line vty
!
end 