! FRR configuration for r7 - BGP 4-way ECMP Test
! 4 interfaces in default VRF connecting to all upstream routers (r2-r5)
! 4 eBGP sessions for 4-way ECMP

hostname r7
!
! Loopback interface
interface lo
 ip address 192.168.7.7/32
!
! Interface configuration (all in default VRF, connects to r2-r5)
interface r7-eth0
 ip address 10.1.21.1/30
 no shutdown
!
interface r7-eth1
 ip address 10.1.22.1/30
 no shutdown
!
interface r7-eth2
 ip address 10.1.23.1/30
 no shutdown
!
interface r7-eth3
 ip address 10.1.24.1/30
 no shutdown
!
! BGP configuration (default VRF) - AS 65007
router bgp 65007
 bgp router-id 192.168.7.7
 timers bgp 10 30
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 !
 ! Neighbors for 4-way ECMP (one to each upstream router)
 neighbor 10.1.21.2 remote-as 65002
 neighbor 10.1.22.2 remote-as 65003
 neighbor 10.1.23.2 remote-as 65004
 neighbor 10.1.24.2 remote-as 65005
 !
 address-family ipv4 unicast
  redistribute sharp
  ! Activate all neighbors for ECMP
  neighbor 10.1.21.2 activate
  neighbor 10.1.22.2 activate
  neighbor 10.1.23.2 activate
  neighbor 10.1.24.2 activate
!
! Line vty configuration
line vty
!
end 