! FRR configuration for r3 - BGP Asymmetric VRF Cross-Connect Test
! 4 interfaces in default VRF connecting to all 4 VRFs on r1
! 4 eBGP sessions to r1 (one from each VRF)

hostname r3
!
! Loopback interface
interface lo
 ip address 192.168.3.3/32
!
! Interface configuration (all in default VRF, connects to r1's 4 VRFs)
interface r3-eth0
 ip address 10.1.2.2/30
 no shutdown
!
interface r3-eth1
 ip address 10.1.6.2/30
 no shutdown
!
interface r3-eth2
 ip address 10.1.10.2/30
 no shutdown
!
interface r3-eth3
 ip address 10.1.14.2/30
 no shutdown
!
interface r3-eth4
 ip address 10.1.18.2/30
 no shutdown
!
interface r3-eth5
 ip address 10.1.22.2/30
 no shutdown
!
! BGP configuration (default VRF) - AS 65003
router bgp 65003
 bgp router-id 192.168.3.3
 timers bgp 10 30
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 !
 ! Neighbors from r1's 4 VRFs
 neighbor 10.1.2.1 remote-as 65001
 neighbor 10.1.6.1 remote-as 65001
 neighbor 10.1.10.1 remote-as 65001
 neighbor 10.1.14.1 remote-as 65001
 ! Neighbors from r6 and r7 ECMP routers
 neighbor 10.1.18.1 remote-as 65006
 neighbor 10.1.22.1 remote-as 65007
 !
 address-family ipv4 unicast
  redistribute sharp
  maximum-paths 6
  ! Activate all neighbors
  neighbor 10.1.2.1 activate
  neighbor 10.1.6.1 activate
  neighbor 10.1.10.1 activate
  neighbor 10.1.14.1 activate
  neighbor 10.1.18.1 activate
  neighbor 10.1.22.1 activate
!
! Line vty configuration
line vty
!
end 