! FRR configuration for r1 - BGP ECMP Test - 64-way Dual Stack (IPv4 + IPv6)
! 64 interfaces in default VRF
! 64 eBGP sessions to r2 for ECMP testing - both IPv4 and IPv6

hostname r1
fpm address 127.0.0.1
bgp suppress-fib-pending
!
! Loopback interface
interface lo
 ip address 192.168.1.1/32
 ipv6 address 2001:db8:192:168::1/128
!
! Interface configuration (all in default VRF) - 64-way Dual Stack
interface r1-eth0
 ip address 10.1.1.1/30
 ipv6 address 2001:db8:10:1:1::1/126
 no shutdown
!
interface r1-eth1
 ip address 10.1.2.1/30
 ipv6 address 2001:db8:10:1:2::1/126
 no shutdown
!
interface r1-eth2
 ip address 10.1.3.1/30
 ipv6 address 2001:db8:10:1:3::1/126
 no shutdown
!
interface r1-eth3
 ip address 10.1.4.1/30
 ipv6 address 2001:db8:10:1:4::1/126
 no shutdown
!
interface r1-eth4
 ip address 10.1.5.1/30
 ipv6 address 2001:db8:10:1:5::1/126
 no shutdown
!
interface r1-eth5
 ip address 10.1.6.1/30
 ipv6 address 2001:db8:10:1:6::1/126
 no shutdown
!
interface r1-eth6
 ip address 10.1.7.1/30
 ipv6 address 2001:db8:10:1:7::1/126
 no shutdown
!
interface r1-eth7
 ip address 10.1.8.1/30
 ipv6 address 2001:db8:10:1:8::1/126
 no shutdown
!
interface r1-eth8
 ip address 10.1.9.1/30
 ipv6 address 2001:db8:10:1:9::1/126
 no shutdown
!
interface r1-eth9
 ip address 10.1.10.1/30
 ipv6 address 2001:db8:10:1:10::1/126
 no shutdown
!
interface r1-eth10
 ip address 10.1.11.1/30
 ipv6 address 2001:db8:10:1:11::1/126
 no shutdown
!
interface r1-eth11
 ip address 10.1.12.1/30
 ipv6 address 2001:db8:10:1:12::1/126
 no shutdown
!
interface r1-eth12
 ip address 10.1.13.1/30
 ipv6 address 2001:db8:10:1:13::1/126
 no shutdown
!
interface r1-eth13
 ip address 10.1.14.1/30
 ipv6 address 2001:db8:10:1:14::1/126
 no shutdown
!
interface r1-eth14
 ip address 10.1.15.1/30
 ipv6 address 2001:db8:10:1:15::1/126
 no shutdown
!
interface r1-eth15
 ip address 10.1.16.1/30
 ipv6 address 2001:db8:10:1:16::1/126
 no shutdown
!
interface r1-eth16
 ip address 10.1.17.1/30
 ipv6 address 2001:db8:10:1:17::1/126
 no shutdown
!
interface r1-eth17
 ip address 10.1.18.1/30
 ipv6 address 2001:db8:10:1:18::1/126
 no shutdown
!
interface r1-eth18
 ip address 10.1.19.1/30
 ipv6 address 2001:db8:10:1:19::1/126
 no shutdown
!
interface r1-eth19
 ip address 10.1.20.1/30
 ipv6 address 2001:db8:10:1:20::1/126
 no shutdown
!
interface r1-eth20
 ip address 10.1.21.1/30
 ipv6 address 2001:db8:10:1:21::1/126
 no shutdown
!
interface r1-eth21
 ip address 10.1.22.1/30
 ipv6 address 2001:db8:10:1:22::1/126
 no shutdown
!
interface r1-eth22
 ip address 10.1.23.1/30
 ipv6 address 2001:db8:10:1:23::1/126
 no shutdown
!
interface r1-eth23
 ip address 10.1.24.1/30
 ipv6 address 2001:db8:10:1:24::1/126
 no shutdown
!
interface r1-eth24
 ip address 10.1.25.1/30
 ipv6 address 2001:db8:10:1:25::1/126
 no shutdown
!
interface r1-eth25
 ip address 10.1.26.1/30
 ipv6 address 2001:db8:10:1:26::1/126
 no shutdown
!
interface r1-eth26
 ip address 10.1.27.1/30
 ipv6 address 2001:db8:10:1:27::1/126
 no shutdown
!
interface r1-eth27
 ip address 10.1.28.1/30
 ipv6 address 2001:db8:10:1:28::1/126
 no shutdown
!
interface r1-eth28
 ip address 10.1.29.1/30
 ipv6 address 2001:db8:10:1:29::1/126
 no shutdown
!
interface r1-eth29
 ip address 10.1.30.1/30
 ipv6 address 2001:db8:10:1:30::1/126
 no shutdown
!
interface r1-eth30
 ip address 10.1.31.1/30
 ipv6 address 2001:db8:10:1:31::1/126
 no shutdown
!
interface r1-eth31
 ip address 10.1.32.1/30
 ipv6 address 2001:db8:10:1:32::1/126
 no shutdown
!
interface r1-eth32
 ip address 10.1.33.1/30
 ipv6 address 2001:db8:10:1:33::1/126
 no shutdown
!
interface r1-eth33
 ip address 10.1.34.1/30
 ipv6 address 2001:db8:10:1:34::1/126
 no shutdown
!
interface r1-eth34
 ip address 10.1.35.1/30
 ipv6 address 2001:db8:10:1:35::1/126
 no shutdown
!
interface r1-eth35
 ip address 10.1.36.1/30
 ipv6 address 2001:db8:10:1:36::1/126
 no shutdown
!
interface r1-eth36
 ip address 10.1.37.1/30
 ipv6 address 2001:db8:10:1:37::1/126
 no shutdown
!
interface r1-eth37
 ip address 10.1.38.1/30
 ipv6 address 2001:db8:10:1:38::1/126
 no shutdown
!
interface r1-eth38
 ip address 10.1.39.1/30
 ipv6 address 2001:db8:10:1:39::1/126
 no shutdown
!
interface r1-eth39
 ip address 10.1.40.1/30
 ipv6 address 2001:db8:10:1:40::1/126
 no shutdown
!
interface r1-eth40
 ip address 10.1.41.1/30
 ipv6 address 2001:db8:10:1:41::1/126
 no shutdown
!
interface r1-eth41
 ip address 10.1.42.1/30
 ipv6 address 2001:db8:10:1:42::1/126
 no shutdown
!
interface r1-eth42
 ip address 10.1.43.1/30
 ipv6 address 2001:db8:10:1:43::1/126
 no shutdown
!
interface r1-eth43
 ip address 10.1.44.1/30
 ipv6 address 2001:db8:10:1:44::1/126
 no shutdown
!
interface r1-eth44
 ip address 10.1.45.1/30
 ipv6 address 2001:db8:10:1:45::1/126
 no shutdown
!
interface r1-eth45
 ip address 10.1.46.1/30
 ipv6 address 2001:db8:10:1:46::1/126
 no shutdown
!
interface r1-eth46
 ip address 10.1.47.1/30
 ipv6 address 2001:db8:10:1:47::1/126
 no shutdown
!
interface r1-eth47
 ip address 10.1.48.1/30
 ipv6 address 2001:db8:10:1:48::1/126
 no shutdown
!
interface r1-eth48
 ip address 10.1.49.1/30
 ipv6 address 2001:db8:10:1:49::1/126
 no shutdown
!
interface r1-eth49
 ip address 10.1.50.1/30
 ipv6 address 2001:db8:10:1:50::1/126
 no shutdown
!
interface r1-eth50
 ip address 10.1.51.1/30
 ipv6 address 2001:db8:10:1:51::1/126
 no shutdown
!
interface r1-eth51
 ip address 10.1.52.1/30
 ipv6 address 2001:db8:10:1:52::1/126
 no shutdown
!
interface r1-eth52
 ip address 10.1.53.1/30
 ipv6 address 2001:db8:10:1:53::1/126
 no shutdown
!
interface r1-eth53
 ip address 10.1.54.1/30
 ipv6 address 2001:db8:10:1:54::1/126
 no shutdown
!
interface r1-eth54
 ip address 10.1.55.1/30
 ipv6 address 2001:db8:10:1:55::1/126
 no shutdown
!
interface r1-eth55
 ip address 10.1.56.1/30
 ipv6 address 2001:db8:10:1:56::1/126
 no shutdown
!
interface r1-eth56
 ip address 10.1.57.1/30
 ipv6 address 2001:db8:10:1:57::1/126
 no shutdown
!
interface r1-eth57
 ip address 10.1.58.1/30
 ipv6 address 2001:db8:10:1:58::1/126
 no shutdown
!
interface r1-eth58
 ip address 10.1.59.1/30
 ipv6 address 2001:db8:10:1:59::1/126
 no shutdown
!
interface r1-eth59
 ip address 10.1.60.1/30
 ipv6 address 2001:db8:10:1:60::1/126
 no shutdown
!
interface r1-eth60
 ip address 10.1.61.1/30
 ipv6 address 2001:db8:10:1:61::1/126
 no shutdown
!
interface r1-eth61
 ip address 10.1.62.1/30
 ipv6 address 2001:db8:10:1:62::1/126
 no shutdown
!
interface r1-eth62
 ip address 10.1.63.1/30
 ipv6 address 2001:db8:10:1:63::1/126
 no shutdown
!
interface r1-eth63
 ip address 10.1.64.1/30
 ipv6 address 2001:db8:10:1:64::1/126
 no shutdown
!
! BGP configuration - AS 65001 with 64 ECMP neighbors to AS 65002
router bgp 65001
 router-id 192.168.1.1
 bgp graceful-restart
 bgp router-id 192.168.1.1
 bgp log-neighbor-changes
 bgp bestpath as-path multipath-relax
 maximum-paths 64
 maximum-paths ibgp 64
 !
 ! IPv4 neighbors to r2 (64 neighbors)
 neighbor 10.1.1.2 remote-as 65002
 neighbor 10.1.2.2 remote-as 65002
 neighbor 10.1.3.2 remote-as 65002
 neighbor 10.1.4.2 remote-as 65002
 neighbor 10.1.5.2 remote-as 65002
 neighbor 10.1.6.2 remote-as 65002
 neighbor 10.1.7.2 remote-as 65002
 neighbor 10.1.8.2 remote-as 65002
 neighbor 10.1.9.2 remote-as 65002
 neighbor 10.1.10.2 remote-as 65002
 neighbor 10.1.11.2 remote-as 65002
 neighbor 10.1.12.2 remote-as 65002
 neighbor 10.1.13.2 remote-as 65002
 neighbor 10.1.14.2 remote-as 65002
 neighbor 10.1.15.2 remote-as 65002
 neighbor 10.1.16.2 remote-as 65002
 neighbor 10.1.17.2 remote-as 65002
 neighbor 10.1.18.2 remote-as 65002
 neighbor 10.1.19.2 remote-as 65002
 neighbor 10.1.20.2 remote-as 65002
 neighbor 10.1.21.2 remote-as 65002
 neighbor 10.1.22.2 remote-as 65002
 neighbor 10.1.23.2 remote-as 65002
 neighbor 10.1.24.2 remote-as 65002
 neighbor 10.1.25.2 remote-as 65002
 neighbor 10.1.26.2 remote-as 65002
 neighbor 10.1.27.2 remote-as 65002
 neighbor 10.1.28.2 remote-as 65002
 neighbor 10.1.29.2 remote-as 65002
 neighbor 10.1.30.2 remote-as 65002
 neighbor 10.1.31.2 remote-as 65002
 neighbor 10.1.32.2 remote-as 65002
 neighbor 10.1.33.2 remote-as 65002
 neighbor 10.1.34.2 remote-as 65002
 neighbor 10.1.35.2 remote-as 65002
 neighbor 10.1.36.2 remote-as 65002
 neighbor 10.1.37.2 remote-as 65002
 neighbor 10.1.38.2 remote-as 65002
 neighbor 10.1.39.2 remote-as 65002
 neighbor 10.1.40.2 remote-as 65002
 neighbor 10.1.41.2 remote-as 65002
 neighbor 10.1.42.2 remote-as 65002
 neighbor 10.1.43.2 remote-as 65002
 neighbor 10.1.44.2 remote-as 65002
 neighbor 10.1.45.2 remote-as 65002
 neighbor 10.1.46.2 remote-as 65002
 neighbor 10.1.47.2 remote-as 65002
 neighbor 10.1.48.2 remote-as 65002
 neighbor 10.1.49.2 remote-as 65002
 neighbor 10.1.50.2 remote-as 65002
 neighbor 10.1.51.2 remote-as 65002
 neighbor 10.1.52.2 remote-as 65002
 neighbor 10.1.53.2 remote-as 65002
 neighbor 10.1.54.2 remote-as 65002
 neighbor 10.1.55.2 remote-as 65002
 neighbor 10.1.56.2 remote-as 65002
 neighbor 10.1.57.2 remote-as 65002
 neighbor 10.1.58.2 remote-as 65002
 neighbor 10.1.59.2 remote-as 65002
 neighbor 10.1.60.2 remote-as 65002
 neighbor 10.1.61.2 remote-as 65002
 neighbor 10.1.62.2 remote-as 65002
 neighbor 10.1.63.2 remote-as 65002
 neighbor 10.1.64.2 remote-as 65002
 !
 ! IPv6 neighbors to r2 (64 neighbors)
 neighbor 2001:db8:10:1:1::2 remote-as 65002
 neighbor 2001:db8:10:1:2::2 remote-as 65002
 neighbor 2001:db8:10:1:3::2 remote-as 65002
 neighbor 2001:db8:10:1:4::2 remote-as 65002
 neighbor 2001:db8:10:1:5::2 remote-as 65002
 neighbor 2001:db8:10:1:6::2 remote-as 65002
 neighbor 2001:db8:10:1:7::2 remote-as 65002
 neighbor 2001:db8:10:1:8::2 remote-as 65002
 neighbor 2001:db8:10:1:9::2 remote-as 65002
 neighbor 2001:db8:10:1:10::2 remote-as 65002
 neighbor 2001:db8:10:1:11::2 remote-as 65002
 neighbor 2001:db8:10:1:12::2 remote-as 65002
 neighbor 2001:db8:10:1:13::2 remote-as 65002
 neighbor 2001:db8:10:1:14::2 remote-as 65002
 neighbor 2001:db8:10:1:15::2 remote-as 65002
 neighbor 2001:db8:10:1:16::2 remote-as 65002
 neighbor 2001:db8:10:1:17::2 remote-as 65002
 neighbor 2001:db8:10:1:18::2 remote-as 65002
 neighbor 2001:db8:10:1:19::2 remote-as 65002
 neighbor 2001:db8:10:1:20::2 remote-as 65002
 neighbor 2001:db8:10:1:21::2 remote-as 65002
 neighbor 2001:db8:10:1:22::2 remote-as 65002
 neighbor 2001:db8:10:1:23::2 remote-as 65002
 neighbor 2001:db8:10:1:24::2 remote-as 65002
 neighbor 2001:db8:10:1:25::2 remote-as 65002
 neighbor 2001:db8:10:1:26::2 remote-as 65002
 neighbor 2001:db8:10:1:27::2 remote-as 65002
 neighbor 2001:db8:10:1:28::2 remote-as 65002
 neighbor 2001:db8:10:1:29::2 remote-as 65002
 neighbor 2001:db8:10:1:30::2 remote-as 65002
 neighbor 2001:db8:10:1:31::2 remote-as 65002
 neighbor 2001:db8:10:1:32::2 remote-as 65002
 neighbor 2001:db8:10:1:33::2 remote-as 65002
 neighbor 2001:db8:10:1:34::2 remote-as 65002
 neighbor 2001:db8:10:1:35::2 remote-as 65002
 neighbor 2001:db8:10:1:36::2 remote-as 65002
 neighbor 2001:db8:10:1:37::2 remote-as 65002
 neighbor 2001:db8:10:1:38::2 remote-as 65002
 neighbor 2001:db8:10:1:39::2 remote-as 65002
 neighbor 2001:db8:10:1:40::2 remote-as 65002
 neighbor 2001:db8:10:1:41::2 remote-as 65002
 neighbor 2001:db8:10:1:42::2 remote-as 65002
 neighbor 2001:db8:10:1:43::2 remote-as 65002
 neighbor 2001:db8:10:1:44::2 remote-as 65002
 neighbor 2001:db8:10:1:45::2 remote-as 65002
 neighbor 2001:db8:10:1:46::2 remote-as 65002
 neighbor 2001:db8:10:1:47::2 remote-as 65002
 neighbor 2001:db8:10:1:48::2 remote-as 65002
 neighbor 2001:db8:10:1:49::2 remote-as 65002
 neighbor 2001:db8:10:1:50::2 remote-as 65002
 neighbor 2001:db8:10:1:51::2 remote-as 65002
 neighbor 2001:db8:10:1:52::2 remote-as 65002
 neighbor 2001:db8:10:1:53::2 remote-as 65002
 neighbor 2001:db8:10:1:54::2 remote-as 65002
 neighbor 2001:db8:10:1:55::2 remote-as 65002
 neighbor 2001:db8:10:1:56::2 remote-as 65002
 neighbor 2001:db8:10:1:57::2 remote-as 65002
 neighbor 2001:db8:10:1:58::2 remote-as 65002
 neighbor 2001:db8:10:1:59::2 remote-as 65002
 neighbor 2001:db8:10:1:60::2 remote-as 65002
 neighbor 2001:db8:10:1:61::2 remote-as 65002
 neighbor 2001:db8:10:1:62::2 remote-as 65002
 neighbor 2001:db8:10:1:63::2 remote-as 65002
 neighbor 2001:db8:10:1:64::2 remote-as 65002
 !
 address-family ipv4 unicast
  redistribute sharp
  ! Activate all IPv4 neighbors (64 neighbors)
  neighbor 10.1.1.2 activate
  neighbor 10.1.2.2 activate
  neighbor 10.1.3.2 activate
  neighbor 10.1.4.2 activate
  neighbor 10.1.5.2 activate
  neighbor 10.1.6.2 activate
  neighbor 10.1.7.2 activate
  neighbor 10.1.8.2 activate
  neighbor 10.1.9.2 activate
  neighbor 10.1.10.2 activate
  neighbor 10.1.11.2 activate
  neighbor 10.1.12.2 activate
  neighbor 10.1.13.2 activate
  neighbor 10.1.14.2 activate
  neighbor 10.1.15.2 activate
  neighbor 10.1.16.2 activate
  neighbor 10.1.17.2 activate
  neighbor 10.1.18.2 activate
  neighbor 10.1.19.2 activate
  neighbor 10.1.20.2 activate
  neighbor 10.1.21.2 activate
  neighbor 10.1.22.2 activate
  neighbor 10.1.23.2 activate
  neighbor 10.1.24.2 activate
  neighbor 10.1.25.2 activate
  neighbor 10.1.26.2 activate
  neighbor 10.1.27.2 activate
  neighbor 10.1.28.2 activate
  neighbor 10.1.29.2 activate
  neighbor 10.1.30.2 activate
  neighbor 10.1.31.2 activate
  neighbor 10.1.32.2 activate
  neighbor 10.1.33.2 activate
  neighbor 10.1.34.2 activate
  neighbor 10.1.35.2 activate
  neighbor 10.1.36.2 activate
  neighbor 10.1.37.2 activate
  neighbor 10.1.38.2 activate
  neighbor 10.1.39.2 activate
  neighbor 10.1.40.2 activate
  neighbor 10.1.41.2 activate
  neighbor 10.1.42.2 activate
  neighbor 10.1.43.2 activate
  neighbor 10.1.44.2 activate
  neighbor 10.1.45.2 activate
  neighbor 10.1.46.2 activate
  neighbor 10.1.47.2 activate
  neighbor 10.1.48.2 activate
  neighbor 10.1.49.2 activate
  neighbor 10.1.50.2 activate
  neighbor 10.1.51.2 activate
  neighbor 10.1.52.2 activate
  neighbor 10.1.53.2 activate
  neighbor 10.1.54.2 activate
  neighbor 10.1.55.2 activate
  neighbor 10.1.56.2 activate
  neighbor 10.1.57.2 activate
  neighbor 10.1.58.2 activate
  neighbor 10.1.59.2 activate
  neighbor 10.1.60.2 activate
  neighbor 10.1.61.2 activate
  neighbor 10.1.62.2 activate
  neighbor 10.1.63.2 activate
  neighbor 10.1.64.2 activate
 !
 address-family ipv6 unicast
  redistribute sharp
  ! Activate all IPv6 neighbors (64 neighbors)
  neighbor 2001:db8:10:1:1::2 activate
  neighbor 2001:db8:10:1:2::2 activate
  neighbor 2001:db8:10:1:3::2 activate
  neighbor 2001:db8:10:1:4::2 activate
  neighbor 2001:db8:10:1:5::2 activate
  neighbor 2001:db8:10:1:6::2 activate
  neighbor 2001:db8:10:1:7::2 activate
  neighbor 2001:db8:10:1:8::2 activate
  neighbor 2001:db8:10:1:9::2 activate
  neighbor 2001:db8:10:1:10::2 activate
  neighbor 2001:db8:10:1:11::2 activate
  neighbor 2001:db8:10:1:12::2 activate
  neighbor 2001:db8:10:1:13::2 activate
  neighbor 2001:db8:10:1:14::2 activate
  neighbor 2001:db8:10:1:15::2 activate
  neighbor 2001:db8:10:1:16::2 activate
  neighbor 2001:db8:10:1:17::2 activate
  neighbor 2001:db8:10:1:18::2 activate
  neighbor 2001:db8:10:1:19::2 activate
  neighbor 2001:db8:10:1:20::2 activate
  neighbor 2001:db8:10:1:21::2 activate
  neighbor 2001:db8:10:1:22::2 activate
  neighbor 2001:db8:10:1:23::2 activate
  neighbor 2001:db8:10:1:24::2 activate
  neighbor 2001:db8:10:1:25::2 activate
  neighbor 2001:db8:10:1:26::2 activate
  neighbor 2001:db8:10:1:27::2 activate
  neighbor 2001:db8:10:1:28::2 activate
  neighbor 2001:db8:10:1:29::2 activate
  neighbor 2001:db8:10:1:30::2 activate
  neighbor 2001:db8:10:1:31::2 activate
  neighbor 2001:db8:10:1:32::2 activate
  neighbor 2001:db8:10:1:33::2 activate
  neighbor 2001:db8:10:1:34::2 activate
  neighbor 2001:db8:10:1:35::2 activate
  neighbor 2001:db8:10:1:36::2 activate
  neighbor 2001:db8:10:1:37::2 activate
  neighbor 2001:db8:10:1:38::2 activate
  neighbor 2001:db8:10:1:39::2 activate
  neighbor 2001:db8:10:1:40::2 activate
  neighbor 2001:db8:10:1:41::2 activate
  neighbor 2001:db8:10:1:42::2 activate
  neighbor 2001:db8:10:1:43::2 activate
  neighbor 2001:db8:10:1:44::2 activate
  neighbor 2001:db8:10:1:45::2 activate
  neighbor 2001:db8:10:1:46::2 activate
  neighbor 2001:db8:10:1:47::2 activate
  neighbor 2001:db8:10:1:48::2 activate
  neighbor 2001:db8:10:1:49::2 activate
  neighbor 2001:db8:10:1:50::2 activate
  neighbor 2001:db8:10:1:51::2 activate
  neighbor 2001:db8:10:1:52::2 activate
  neighbor 2001:db8:10:1:53::2 activate
  neighbor 2001:db8:10:1:54::2 activate
  neighbor 2001:db8:10:1:55::2 activate
  neighbor 2001:db8:10:1:56::2 activate
  neighbor 2001:db8:10:1:57::2 activate
  neighbor 2001:db8:10:1:58::2 activate
  neighbor 2001:db8:10:1:59::2 activate
  neighbor 2001:db8:10:1:60::2 activate
  neighbor 2001:db8:10:1:61::2 activate
  neighbor 2001:db8:10:1:62::2 activate
  neighbor 2001:db8:10:1:63::2 activate
  neighbor 2001:db8:10:1:64::2 activate
!
! Line vty configuration
line vty
!
end 