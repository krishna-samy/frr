! FRR configuration for r1 - BGP 8-way ECMP Test
! 8 interfaces in default VRF
! 8 eBGP sessions to r2 for ECMP testing

hostname r1
!
! Loopback interface
interface lo
 ip address 192.168.1.1/32
!
! Interface configuration (all in default VRF)
interface r1-eth0
 ip address 10.1.1.1/30
 no shutdown
!
interface r1-eth1
 ip address 10.1.2.1/30
 no shutdown
!
interface r1-eth2
 ip address 10.1.3.1/30
 no shutdown
!
interface r1-eth3
 ip address 10.1.4.1/30
 no shutdown
!
interface r1-eth4
 ip address 10.1.5.1/30
 no shutdown
!
interface r1-eth5
 ip address 10.1.6.1/30
 no shutdown
!
interface r1-eth6
 ip address 10.1.7.1/30
 no shutdown
!
interface r1-eth7
 ip address 10.1.8.1/30
 no shutdown
!
! BGP configuration (default VRF) - AS 65001
router bgp 65001
 bgp router-id 192.168.1.1
 timers bgp 10 30
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 !
 ! All 8 neighbors to r2
 neighbor 10.1.1.2 remote-as 65002
 neighbor 10.1.2.2 remote-as 65002
 neighbor 10.1.3.2 remote-as 65002
 neighbor 10.1.4.2 remote-as 65002
 neighbor 10.1.5.2 remote-as 65002
 neighbor 10.1.6.2 remote-as 65002
 neighbor 10.1.7.2 remote-as 65002
 neighbor 10.1.8.2 remote-as 65002
 !
 address-family ipv4 unicast
  redistribute sharp
  ! Activate all neighbors
  neighbor 10.1.1.2 activate
  neighbor 10.1.2.2 activate
  neighbor 10.1.3.2 activate
  neighbor 10.1.4.2 activate
  neighbor 10.1.5.2 activate
  neighbor 10.1.6.2 activate
  neighbor 10.1.7.2 activate
  neighbor 10.1.8.2 activate
!
! Line vty configuration
line vty
!
end 